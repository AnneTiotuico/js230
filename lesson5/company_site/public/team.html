<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Space Design | Team</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1.0" />
    <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous">
    </script>
    <script 
      src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.6/handlebars.js" integrity="sha512-MQkEjxbZvzs4TX8ES4/tTIyaYdtDlJzVocnPo0GoysTR0jCmNg0P2is7uqpCoWxmoS9X84CDVzuWgZD/R/Q2oQ==" 
      crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="./stylesheets/site.css" />
  </head>
  <body>
    <header>
      <h1>
        <a href="home.html">SpaceDesign</a>
      </h1>
      <nav>
        <ul>
          <li><a href="home.html">Home</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="team.html" class="active">Team</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <div id="team" class="column">
        <article>
          <h2>Team</h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniadolor</p>
          <ul>
            <li>
              <a href="#" data-team-member="Kevin" data-text="Fusce feugiat ut nisi at pulvinar. Quisque sagittis augue sit amet hendrerit pellentesque. Maecenas pellentesque tincidunt commodo. Phasellus et justo pharetra, imperdiet dui eu, dapibus velit. Suspendisse finibus ante maximus bibendum rhoncus. Etiam sit amet faucibus urna. Nulla dui turpis, interdum non sodales quis, tempus quis mi. Aenean vel ante lacinia, laoreet arcu placerat, convallis justo. Aenean sit amet fringilla nisl. Phasellus vestibulum lorem et pretium aliquam.">
                <img src="../images/img_kevin.jpg" alt="Kevin Wang"/>
                Kevin
              </a>
            </li>
            <li>
              <a href="#" data-team-member="Louis" data-text="Ut cursus mauris at mauris scelerisque, id tempor ligula ullamcorper. Sed vehicula semper est, vitae aliquam diam finibus sit amet. Fusce ut dolor eu eros consequat varius. Mauris vitae iaculis ipsum. Mauris dictum convallis lacus eu elementum. Vivamus porttitor mattis turpis nec feugiat. Suspendisse tempus magna sit amet aliquet lobortis. Donec a tincidunt nisi.">
                <img src="../images/img_louis.jpg" alt="Louis Burton"/>
                Louis
              </a>
            </li>
            <li>
              <a href="#" data-team-member="Kasper" data-text="Vestibulum rutrum porttitor aliquam. Mauris et rhoncus sem, in varius ligula. Duis velit justo, consectetur sit amet quam in, faucibus malesuada justo. Aliquam porttitor orci at posuere aliquet. Sed fringilla eros sit amet venenatis tempus. Phasellus posuere turpis vitae libero dignissim dictum. Donec id consectetur felis. Morbi augue massa, rutrum vulputate mauris nec, sodales varius libero.">
                <img src="../images/img_kasper.jpg" alt="Kasper Salto"/>
                Kasper
              </a>
            </li>
            <li>
              <a href="#" data-team-member="Chris" data-text="Pellentesque sit amet nulla ut nulla venenatis luctus. Pellentesque ut enim pellentesque, aliquet nunc ac, scelerisque massa. Nunc id sapien urna. Sed elementum turpis in tellus eleifend, quis auctor lorem hendrerit. Morbi cursus finibus molestie. Vivamus id ipsum arcu. Donec nec felis hendrerit orci porttitor sagittis vel et mi. Etiam id molestie felis.">
                <img src="../images/img_chris.jpg" alt="Chris Lee"/>
                Chris
              </a>
            </li>
          </ul>
        </article>
      </div>
      <div id="overlay" class="hidden"></div>
      <div id="modal" class="hidden">
        <img src="../images/icon_close.png" alt="close" id="close"/>
        <img src="" alt="" id="member-pic"/>
        <h3></h3>
        <p></p>
      </div>
    </main>
    <footer>
      <p>
        Lorem ipsum dolor sit amet, consectetu
        <br />
        incididunt ut labore et dolore magna aliqua. Ut enim ad
      </p>
      <ul>
        <li><a href="#" class="twitter">Twitter</a></li>
        <li><a href="#" class="facebook">Facebook</a></li>
        <li><a href="#" class="email">Email</a></li>
        <li><a href="#" class="instagram">Instagram</a></li>
      </ul>
    </footer>
  </body>

  <script>
    $(function() {
      let modal = $('#modal')[0];
      let overlay = $('#overlay')[0];

      function populateInfo(member) {
        let memberItems = $('[data-team-member=' + member);
        let name = memberItems.contents('img')[0].getAttribute('alt');
        $('#modal img')[1].setAttribute('src', `../images/img_${member.toLowerCase()}.jpg`);
        $('#modal img')[1].setAttribute('alt', name);
        $('#modal h3').text(name);
        $('#modal p').text(memberItems.attr('data-text'));
      };

      $('main a').click(function(e) {
        e.preventDefault();
        e.stopPropagation();
        let member = $(e.target).closest('a')[0].dataset.teamMember;
        populateInfo(member);
        modal.classList.replace('hidden', 'visible');
        overlay.classList.replace('hidden', 'visible');
      });

      $('body').click(function(e) {
        let target = e.target;
        if (target.id === 'close' || $(target).closest(modal).length < 1) {
          modal.classList.replace('visible', 'hidden');
          overlay.classList.replace('visible', 'hidden');
        }
      });

      $(document).keyup(function(e) {
        if (e.keyCode == 27) {
          modal.classList.replace('visible', 'hidden');
          overlay.classList.replace('visible', 'hidden');
        }
      });

    });
  </script>
</html>

<!-- 
  things to add:
  - modal should pop up relative to viewport
 -->